
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.2">
    
    
      
        <title>Create Projects - Hitachi Cloud Accelerator Platform Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1655a90d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.7fa14f5b.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","None","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create-projects" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <!-- <div data-md-component="announce">
      
    </div> -->
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Hitachi Cloud Accelerator Platform Documentation" class="md-header__button md-logo" aria-label="Hitachi Cloud Accelerator Platform Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hitachi Cloud Accelerator Platform Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Create Projects
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://arnab20ghosh.github.io/HCAP_doc/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    HCAP_doc
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../platform-common/getStarted/" class="md-tabs__link">
        Get started
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../deploy/getting-started/" class="md-tabs__link">
        Accelerators
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../devops/gettingStarted/" class="md-tabs__link md-tabs__link--active">
        DevSecOps
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../deploy-infobytes/info-btyes/" class="md-tabs__link">
        Infobytes
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../platform-common/whatsNew/" class="md-tabs__link">
        What's New?
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hitachi Cloud Accelerator Platform Documentation" class="md-nav__button md-logo" aria-label="Hitachi Cloud Accelerator Platform Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Hitachi Cloud Accelerator Platform Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://arnab20ghosh.github.io/HCAP_doc/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    HCAP_doc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Get started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Get started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Get started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../platform-common/getStarted/" class="md-nav__link">
        Get Started
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../platform-common/deployAndConfigure/" class="md-nav__link">
        Deploy and configure
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../platform-common/administer/" class="md-nav__link">
        Administer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../platform-common/createAndAccessAccount/" class="md-nav__link">
        Create & access account
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../platform-common/cliTool/" class="md-nav__link">
        Install and use Platform CLI
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Accelerators
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Accelerators" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Accelerators
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      <label class="md-nav__link" for="__nav_3_1">
        Deploy Accelerator
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Deploy Accelerator" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Deploy Accelerator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/getting-started/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1_2" type="checkbox" id="__nav_3_1_2" >
      
      <label class="md-nav__link" for="__nav_3_1_2">
        Deploy and Manage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Deploy and Manage" data-md-level="3">
        <label class="md-nav__title" for="__nav_3_1_2">
          <span class="md-nav__icon md-icon"></span>
          Deploy and Manage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/using_copy/" class="md-nav__link">
        Deploy
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/administering/" class="md-nav__link">
        Administer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/howto-guides/" class="md-nav__link">
        How-to guides
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy/api-reference/" class="md-nav__link">
        API reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        Workflow Accelerator
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Workflow Accelerator" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Workflow Accelerator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/getting-started/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/understand-solution-package-schema/" class="md-nav__link">
        Understand the solution package schema
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/using/" class="md-nav__link">
        Create and register solution package
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/deploy-package/" class="md-nav__link">
        Deploy solution package
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../workflow/api-reference/" class="md-nav__link">
        API reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      <label class="md-nav__link" for="__nav_3_3">
        Test Accelerator
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Test Accelerator" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Test Accelerator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../test/getting-started/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../test/using/" class="md-nav__link">
        Run tests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../test/administer/" class="md-nav__link">
        Administer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../test/api-reference/" class="md-nav__link">
        API reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      <label class="md-nav__link" for="__nav_3_4">
        Assess Accelerator
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Assess Accelerator" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Assess Accelerator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../assess/getting-started/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../assess/using/" class="md-nav__link">
        Run assessment policies
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../assess/assess-templates/" class="md-nav__link">
        Create and manage assessment templates
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../assess/assess-checks/" class="md-nav__link">
        Assessment checks reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_5" type="checkbox" id="__nav_3_5" >
      
      <label class="md-nav__link" for="__nav_3_5">
        Migrate Accelerator
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Migrate Accelerator" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Migrate Accelerator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/getting-started/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/using/" class="md-nav__link">
        Discover and migrate resources
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../migrate/administering/" class="md-nav__link">
        Administer
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        DevSecOps
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="DevSecOps" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          DevSecOps
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/gettingStarted/" class="md-nav__link">
        Overview of DevSecOps Services
      </a>
    </li>
  

          
            
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" type="checkbox" id="__nav_4_2" checked>
      
      <label class="md-nav__link" for="__nav_4_2">
        Image Pipeline
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Image Pipeline" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Image Pipeline
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Configuring-a-DevSecOps-Workstation/" class="md-nav__link">
        Configure a DevSecOps workstation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="./" class="md-nav__link">
        Create project
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configure project
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configure project
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contents" class="md-nav__link">
    Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-guide" class="md-nav__link">
    Step-by-step guide
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-a-project" class="md-nav__link">
    Generating a project
  </a>
  
    <nav class="md-nav" aria-label="Generating a project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-the-generated-files" class="md-nav__link">
    Understanding the generated files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-the-configuration-files" class="md-nav__link">
    Working with the Configuration files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-packer-template" class="md-nav__link">
    Creating a Packer template
  </a>
  
    <nav class="md-nav" aria-label="Creating a Packer template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overriding-configrb-values-with-buildjson-values" class="md-nav__link">
    Overriding config.rb values with build.json values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-packer-variables" class="md-nav__link">
    Mandatory Packer variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-chef-cookbooks" class="md-nav__link">
    Adding Chef cookbooks
  </a>
  
    <nav class="md-nav" aria-label="Adding Chef cookbooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-chef" class="md-nav__link">
    Installing Chef
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-berksfile" class="md-nav__link">
    Creating a Berksfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-chef-solo-provisioner" class="md-nav__link">
    Adding a Chef solo provisioner
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-inspec-tests" class="md-nav__link">
    Adding InSpec tests
  </a>
  
    <nav class="md-nav" aria-label="Adding InSpec tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inspec-profile-settings" class="md-nav__link">
    Inspec profile settings
  </a>
  
    <nav class="md-nav" aria-label="Inspec profile settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-local-inspec-profile" class="md-nav__link">
    Create a local InSpec profile
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-local-controls-to-an-inspec-profile" class="md-nav__link">
    Adding local controls to an InSpec profile
  </a>
  
    <nav class="md-nav" aria-label="Adding local controls to an InSpec profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-shared-controls-to-an-inspec-profile" class="md-nav__link">
    Adding shared controls to an InSpec profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passing-inputs-to-inspec" class="md-nav__link">
    Passing Inputs to InSpec
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#committing-to-git" class="md-nav__link">
    Committing to Git
  </a>
  
    <nav class="md-nav" aria-label="Committing to Git">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commit-and-push-the-code" class="md-nav__link">
    Commit and Push the Code
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-commands" class="md-nav__link">
    Additional Commands
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Building-and-Testing-from-Jenkins/" class="md-nav__link">
        Build and test from Jenkins
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Building-and-Testing-from-your-Workstation/" class="md-nav__link">
        Build and test from your workstation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../External-Configuration/" class="md-nav__link">
        External configurations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Customizing-projects/" class="md-nav__link">
        Customize projects
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Learn-the-concepts/" class="md-nav__link">
        Learn the concepts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../Windows-Linux-Virtual-Machine-Setup/" class="md-nav__link">
        Set-up a Linux Virtual Machine
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Infobytes
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Infobytes" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Infobytes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-infobytes/info-btyes/" class="md-nav__link">
        Deploy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-infobytes/info-btyes-01/" class="md-nav__link">
        Infobyte 1- Product overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-infobytes/info-btyes-02/" class="md-nav__link">
        Infobyte 2- Layered environments
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-infobytes/info-btyes-03/" class="md-nav__link">
        Infobyte 3- Multiple deployment
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-infobytes/info-btyes-04/" class="md-nav__link">
        Infobyte 4- Environment versions and releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-infobytes/info-btyes-05/" class="md-nav__link">
        Infobyte 5- Blueprints
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-infobytes/info-btyes-06/" class="md-nav__link">
        Infobyte 6- Packages
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../deploy-infobytes/info-btyes-07/" class="md-nav__link">
        Infobyte 7- Platform CLI tool
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        What's New?
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="What's New?" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          What's New?
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../platform-common/whatsNew/" class="md-nav__link">
        Latest Releases
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../platform-common/whatsNewArchive/" class="md-nav__link">
        Archive
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contents" class="md-nav__link">
    Contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-guide" class="md-nav__link">
    Step-by-step guide
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-a-project" class="md-nav__link">
    Generating a project
  </a>
  
    <nav class="md-nav" aria-label="Generating a project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-the-generated-files" class="md-nav__link">
    Understanding the generated files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-the-configuration-files" class="md-nav__link">
    Working with the Configuration files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-packer-template" class="md-nav__link">
    Creating a Packer template
  </a>
  
    <nav class="md-nav" aria-label="Creating a Packer template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overriding-configrb-values-with-buildjson-values" class="md-nav__link">
    Overriding config.rb values with build.json values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-packer-variables" class="md-nav__link">
    Mandatory Packer variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-chef-cookbooks" class="md-nav__link">
    Adding Chef cookbooks
  </a>
  
    <nav class="md-nav" aria-label="Adding Chef cookbooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-chef" class="md-nav__link">
    Installing Chef
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-berksfile" class="md-nav__link">
    Creating a Berksfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-chef-solo-provisioner" class="md-nav__link">
    Adding a Chef solo provisioner
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-inspec-tests" class="md-nav__link">
    Adding InSpec tests
  </a>
  
    <nav class="md-nav" aria-label="Adding InSpec tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inspec-profile-settings" class="md-nav__link">
    Inspec profile settings
  </a>
  
    <nav class="md-nav" aria-label="Inspec profile settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-local-inspec-profile" class="md-nav__link">
    Create a local InSpec profile
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-local-controls-to-an-inspec-profile" class="md-nav__link">
    Adding local controls to an InSpec profile
  </a>
  
    <nav class="md-nav" aria-label="Adding local controls to an InSpec profile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-shared-controls-to-an-inspec-profile" class="md-nav__link">
    Adding shared controls to an InSpec profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passing-inputs-to-inspec" class="md-nav__link">
    Passing Inputs to InSpec
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#committing-to-git" class="md-nav__link">
    Committing to Git
  </a>
  
    <nav class="md-nav" aria-label="Committing to Git">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#commit-and-push-the-code" class="md-nav__link">
    Commit and Push the Code
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-commands" class="md-nav__link">
    Additional Commands
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="create-projects"><a id="proj" name="proj"></a>Create Projects<a class="headerlink" href="#create-projects" title="Permanent link">&para;</a></h1>
<p>The project generator creates a Ruby-based project providing AMI creation capabilities.
In the further sections of this document we will explain how to customize the project to successfully create AMIs.</p>
<h4 id="contents">Contents<a class="headerlink" href="#contents" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'prereq'})" style="text-decoration:none">Prerequisites</a></li>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'prereq'})" style="text-decoration:none">Step by step guide</a></li>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'generate'})" style="text-decoration:none">Generating a Project</a></li>
</ul>
<h2 id="prerequisites"><a id="prereq" name="prereq"></a>Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<p>Before you start creating a project, ensure that you have:</p>
<ol>
<li>An access to Artifactory that has all the required artifacts for the project.</li>
<li>An access to Git server. </li>
<li>AWS credentials for Packer. For more information on how to use AWS credentials with Packer, visit Packer Documentation, and see <a href="https://www.packer.io/docs/builders/amazon.html#authentication">AWS Authentication</a>.</li>
</ol>
<h2 id="step-by-step-guide"><a id="step" name="step"></a>Step-by-step guide<a class="headerlink" href="#step-by-step-guide" title="Permanent link">&para;</a></h2>
<p>The following steps are required for creating AMI pipelines:</p>
<ul>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'generate'})" style="text-decoration:none">Generate project using project generator </a></li>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'work-config'})" style="text-decoration:none">Set Basic Configuration in Config.rb</a></li>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'packer'})" style="text-decoration:none">Creating a Packer template</a></li>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'chef'})" style="text-decoration:none">Add required server configuration using chef cookbooks </a></li>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'inspec'})" style="text-decoration:none">Add Inspec tests to validate server configuration </a></li>
<li><!-- <a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'compliance'})" style="text-decoration:none">Add Compliance scans to check for security guidelines given by IASE DISA </a> --></li>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'git'})" style="text-decoration:none">Commit to Git </a></li>
<li><a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'create-projects', viewSection: 'additional'})" style="text-decoration:none">Additional Commands </a></li>
</ul>
<h2 id="generating-a-project"><a id="generate" name="generate"></a>Generating a project<a class="headerlink" href="#generating-a-project" title="Permanent link">&para;</a></h2>
<p>The project creation depends on the <strong>pipeline-generator</strong> ruby gem</p>
<p>To install the gem locally, use the command:</p>
<p><code>gem install pipeline-generator</code></p>
<p>To generate the custom project on your local machine, use the command:</p>
<p><code>generate pipeline [APP_NAME] [DIR] --style=[STYLE]</code></p>
<ul>
<li><code>pipeline</code>: indicates that we're creating a new pipeline codebase</li>
<li>[APP_NAME] : name of the pipeline For example, clientname-app-pipeline.</li>
<li>[DIR] : directory with the generated output. It can be any directory in the file system.</li>
<li>--style (-s) : allows us to specify the type of pipeline we're creating, for AMIs this should be set to <code>image/packer</code></li>
</ul>
<h4 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Generating project in a parent directory</strong></li>
</ul>
<p>In this example, the project generator creates files with the application name <code>base-rhel7</code> in the <code>companyxyz-rhel7</code> directory in the parent directory.</p>
<p><code>generate pipeline base-rhel7 ../companyxyz-rhel7 -s image/packer</code></p>
<div class="highlight"><pre><span></span><code>  .
  └── parent directory
    ├── current directory     - the command is executed here
    └── companyxyz-rhel7      - this is the directory with generated files
</code></pre></div>
<ul>
<li><strong>Generate project in a subdirectory</strong></li>
</ul>
<p>In this example, the project generator creates files with the application name <code>base-rhel7</code> in the <code>companyabc-rhel7</code> subdirectory of the current directory.</p>
<p><code>generate pipeline base-rhel7 companyabc-rhel7 -s image/packer</code></p>
<div class="highlight"><pre><span></span><code>  .
  └── parent directory
      └── current directory     - the command is executed here
          └── companyabc-rhel7  - this is the directory with generated files
</code></pre></div>
<h3 id="understanding-the-generated-files"><a id="understand" name="understand"></a>Understanding the generated files<a class="headerlink" href="#understanding-the-generated-files" title="Permanent link">&para;</a></h3>
<p>The <code>generate pipeline</code> command for <code>image/packer</code> creates the following files:</p>
<table>
<thead>
<tr>
<th>File name</th>
<th>File type</th>
<th>Purpose</th>
<th>Requires customizations</th>
</tr>
</thead>
<tbody>
<tr>
<td>Rakefile</td>
<td>Rake</td>
<td>Loads the AMI rake tasks</td>
<td>No</td>
</tr>
<tr>
<td>config.rb</td>
<td>Ruby</td>
<td>Configures the AMI pipeline</td>
<td>Yes  (when changing generated values)</td>
</tr>
<tr>
<td>build.json</td>
<td>JSON</td>
<td>The AMI packer template</td>
<td>Yes</td>
</tr>
<tr>
<td>jenkins/Build</td>
<td>Jenkinsfile</td>
<td>Builds AMI in the core account</td>
<td>No</td>
</tr>
<tr>
<td>jenkins/Deliver</td>
<td>Jenkinsfile</td>
<td>Delivers AMI to the workload accounts</td>
<td>No</td>
</tr>
<tr>
<td>jenkins/Release/Start</td>
<td>Jenkinsfile</td>
<td>Starts the release process</td>
<td>No</td>
</tr>
<tr>
<td>jenkins/Release/Build</td>
<td>Jenkinsfile</td>
<td>Builds the AMI in the context of the release process</td>
<td>No</td>
</tr>
<tr>
<td>jenkins/Release/Deliver</td>
<td>Jenkinsfile</td>
<td>Delivers the built AMI in the context of the release process</td>
<td>No</td>
</tr>
<tr>
<td>jenkins/Release/Finish</td>
<td>Jenkinsfile</td>
<td>Finishes the release process</td>
<td>No</td>
</tr>
<tr>
<td>test.tf</td>
<td>Terraform</td>
<td>Creates EC2 instance for server and compliance scanning</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>The Jenkins files define Jenkins pipelines using the provided shared Jenkins library. These pipelines execute underlying rake tasks defined for AMI projects.</p>
<blockquote>
<p>Note: The framework also creates <code>Gemfile</code> and <code>Gemfile.lock</code>. These files describe the Ruby gem dependencies.
</p>
</blockquote>
<h2 id="working-with-the-configuration-files"><a id="work-config" name="work-config"></a>Working with the Configuration files<a class="headerlink" href="#working-with-the-configuration-files" title="Permanent link">&para;</a></h2>
<p>The <strong>config.rb</strong> file in the project directory contains the project configuration details. The framework automatically loads <strong>config.rb</strong> by default.
The framework requires the <code>:application</code> configuration setting.</p>
<p>The project generator automatically sets <code>:application</code> to the value passed in application name.
To change your application name, set <code>:application</code> to a new value.</p>
<p>The framework also support loading additional configuration data from other configuration files based on <code>PIPELINE_ENV</code> environment variable. This allows different configuration for different environments, for example development vs production.</p>
<p>The additional configuration files must be located under <code>config</code> directory in the project root and the file names have to consist of <strong>PIPELINE_ENV</strong> values and the <code>.rb</code> file extension.</p>
<p>The values in the additional configuration files overrides the values in <code>config.rb</code>. For example, if the same parameter <code>:iamaparameter</code> is set in both <code>config.rb</code> and <code>config/dev.rb</code> and <code>PIPELINE_ENV</code> is set to <code>dev</code>, the value of <code>:iamaparameter</code> in <code>config/dev.rb</code> will be used.</p>
<p>In this example, we have three additional configuration files.</p>
<div class="highlight"><pre><span></span><code>  .
  └── project           - project directory
      └── config        - config directory
          ├──  dev.rb   - this file is loaded when PIPELINE_ENV is dev
          ├──  qa.rb    - this file is loaded when PIPELINE_ENV is qa
          └──  prod.rb  - this file is loaded when PIPELINE_ENV is prod
</code></pre></div>
<p><code>PIPELINE_ENV</code> defaults to <code>dev</code> if it hasn't been set.</p>
<p>For more information on the parameters in the config.rb file, in the Configuring Projects topic, see <a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'configure-projects', viewSection: 'working'})" style="text-decoration:none">Working with config.rb</a>.</p>
<h2 id="creating-a-packer-template"><a id="packer" name="packer"></a>Creating a Packer template<a class="headerlink" href="#creating-a-packer-template" title="Permanent link">&para;</a></h2>
<p>Packer uses a template JSON file to create the Amazon Machine Images (AMIs). In the project generator framework, this template file is <code>build.json</code> and this file is located in the project root folder.
To learn more about Packer and the various features this tool offers, in the Learn the Concepts topic, <a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'learn-the-concept', viewSection: 'packer'})" style="text-decoration:none">Building with Packer</a>.</p>
<h3 id="overriding-configrb-values-with-buildjson-values">Overriding config.rb values with build.json values<a class="headerlink" href="#overriding-configrb-values-with-buildjson-values" title="Permanent link">&para;</a></h3>
<p>To modify or provide values for the variables that are null in the <code>variables</code> section of <code>build.json</code>; we can add these variables and values to the <code>config.rb</code> file.
Any values provided in the <code>config.rb</code> file for a packer build will override values in the <strong>build.json</strong> and <strong>local vars.json</strong> files. </p>
<p>For example, you can set a region variable in the config.rb file using the following command:</p>
<div class="highlight"><pre><span></span><code><span class="n">set</span> <span class="ss">:aws_region</span><span class="p">,</span> <span class="s1">&#39;us-east-1&#39;</span>
</code></pre></div>
<p>This value of <code>us-east-1</code> will be used by the packer template during the build process.</p>
<h3 id="mandatory-packer-variables">Mandatory Packer variables<a class="headerlink" href="#mandatory-packer-variables" title="Permanent link">&para;</a></h3>
<p>When using the project generator, a <code>build.json</code> template is available by default.
Following are the basic mandatory parameters for an AMI packer build:</p>
<table>
<thead>
<tr>
<th>variable</th>
<th>purpose</th>
<th>build.json template location</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Name of the builder such as EBS 1-- only needed if multiple builders are used</td>
<td>builders</td>
</tr>
<tr>
<td>type</td>
<td>Type of builder being used such as <code>amazon-ebs</code></td>
<td>builders</td>
</tr>
<tr>
<td>ami_name</td>
<td>Name of the AMI being built, a combination of user supplied name, env name and timestamp</td>
<td>variables as null, user function variable in builders</td>
</tr>
<tr>
<td>instance_type</td>
<td>The EC2 instance type to use when building the AMI such as t2.small</td>
<td>variables</td>
</tr>
<tr>
<td>source_ami</td>
<td>The source AMI whose root volume will be copied and used to provision</td>
<td>variables as null, user function variable in builders</td>
</tr>
</tbody>
</table>
<h2 id="adding-chef-cookbooks"><a id="chef" name="chef"></a>Adding Chef cookbooks<a class="headerlink" href="#adding-chef-cookbooks" title="Permanent link">&para;</a></h2>
<p>Packer provisioners use built-in and third-party software to install and configure the machine image after booting. For more information see, <a href="https://www.packer.io/docs/provisioners">Packer docs</a>.</p>
<h3 id="installing-chef">Installing Chef<a class="headerlink" href="#installing-chef" title="Permanent link">&para;</a></h3>
<p>This step should be done only if the image being built does not have Chef already installed. Packer will automatically attempt to install Chef by default. For more information, in Packer documentation, see <a href="https://www.packer.io/docs/provisioners/chef-solo.html#skip_install">Chef Solo Provisioner</a>.</p>
<p>If Chef is not installed by default, use the custom script to install Chef. For more information, in Packer documentation, see <a href="https://www.packer.io/docs/provisioners/chef-solo.html#install-command">Chef Solo Install Commands</a>.</p>
<h3 id="creating-a-berksfile">Creating a Berksfile<a class="headerlink" href="#creating-a-berksfile" title="Permanent link">&para;</a></h3>
<p>If a <a href="https://docs.chef.io/berkshelf.html#the-berksfile">Berksfile</a> is present in the project root the framework assumes that the project uses Chef to provision the image.</p>
<p>For more information on how to add Chef cookbook dependencies, in Chef documentation, see <a href="https://docs.chef.io/berkshelf.html">About Berksfile</a>.</p>
<p>When <code>build</code> task in invoked, the framework cleans any existing cookbooks already vendored, then vendors all the dependent cookbooks to the <code>vendor-cookbooks</code> directory.</p>
<h3 id="adding-a-chef-solo-provisioner">Adding a Chef solo provisioner<a class="headerlink" href="#adding-a-chef-solo-provisioner" title="Permanent link">&para;</a></h3>
<p>Chef-Solo is an open source tool that runs locally and allows to provision guest machines using Chef cookbooks without any Chef configuration. For more information on adding Chef templates for Packer provisioners, in Packer documentation, see <a href="https://www.packer.io/docs/provisioners/chef-solo.html">Chef Solo Provisioner</a> .</p>
<p>The only change that needs to be done for the <em>chef-solo</em> provisioner is to point it to the local folder containing the cookbooks, in this case <code>vendor-cookbooks</code> directory.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;chef-solo&quot;</span><span class="p">,</span>
  <span class="nt">&quot;cookbook_paths&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;vendor-cookbooks&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>To learn more about Chef, in the Learn the Concepts section, see <a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'learn-the-concept', viewSection: 'chef'})" style="text-decoration:none">Provisioning with Chef</a>.</p>
</blockquote>
<p>After these provisioners and files are created, the packer template AMI can be built by running the rake build command.</p>
<p><code>rake build</code></p>
<p>This command will create an AMI template that will install ChefDK on the image and run the cookbooks.</p>
<h2 id="adding-inspec-tests"><a id="inspec" name="inspec"></a>Adding InSpec tests<a class="headerlink" href="#adding-inspec-tests" title="Permanent link">&para;</a></h2>
<p>InSpec is a framework for testing and auditing applications and infrastructure. To learn more about InSpec, in the Learn the Concepts section, see <a href="" ui-sref="rean-platform-docs.accelerator({viewAccelerator: 'rean-devsecops', viewPage: 'learn-the-concept', viewSection: 'inspec'})" style="text-decoration:none">Testing with Terraform and Inspec</a>.</p>
<p>The InSpec testing profiles are located in the <code>test</code> folder of the project.</p>
<h3 id="inspec-profile-settings">Inspec profile settings<a class="headerlink" href="#inspec-profile-settings" title="Permanent link">&para;</a></h3>
<p>When InSpec profiles are used for server testing, set <code>:test_suite</code> to the directory with the InSpec profile. If <code>:test_suite</code> is not set, it defaults to <code>:application</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># in this example, we should have our InSpec profile in &quot;test/my-inspec-profile&quot;</span>
<span class="n">set</span> <span class="ss">:test_suite</span><span class="p">,</span> <span class="s1">&#39;my-inspec-profile&#39;</span>
</code></pre></div>
<h4 id="create-a-local-inspec-profile">Create a local InSpec profile<a class="headerlink" href="#create-a-local-inspec-profile" title="Permanent link">&para;</a></h4>
<p>Add InSpec profiles to your project by creating your own profiles or including profiles from the Chef Supermarket repository in the Artifactory.
To learn more about creating or adding inSpec profiles, visit the <a href="https://www.inspec.io/docs/">Chef InSpec documentation</a></p>
<p>The InSpec profile contains the <strong>inspec.yml</strong> file, which includes the required name key, and other optional keys such as description, title, summary, and other parameters.
The InSpec profile also contains <code>controls</code> files. These directories contains all the tests. The InSpec tests are  stored in its respective repository and released to artifactory to be pulled down to the project.</p>
<p>When you execute a local profile, the <strong>inspec.yml</strong> file will be read in order to source any profile dependencies. It will then cache the dependencies locally and generate an <strong>inspec.lock</strong> file.</p>
<ul>
<li>In the project root folder, create a folder named <code>test</code></li>
<li>In the <code>test</code> folder create another folder for the InSpec profile. The folder name must match <code>:test_suite</code> in config.rb.</li>
<li>Add the <strong>inspec.yml</strong> file.</li>
</ul>
<p>In this example, we have a sample <code>inspec.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># test/&lt;test_suite&gt;/inspec.yml</span>
<span class="nt">name</span><span class="p">:</span> <span class="s">&#39;example-application-name&#39;</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Inspec for azure application</span>
<span class="nt">maintainer</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">John Doe</span>
<span class="nt">copyright</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ABC Corp</span>
<span class="nt">copyright_email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">john.doe@abccorp.com</span>
<span class="nt">license</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">All Rights Reserved</span>
<span class="nt">summary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">An InSpec Compliance Profile</span>
<span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1.0</span>
<span class="nt">supports</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">os-family</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redhat</span>
  <span class="p p-Indicator">-</span> <span class="nt">os-family</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">centos</span>
</code></pre></div>
<h3 id="adding-local-controls-to-an-inspec-profile">Adding local controls to an InSpec profile<a class="headerlink" href="#adding-local-controls-to-an-inspec-profile" title="Permanent link">&para;</a></h3>
<p>Controls added directly to the InSpec profile are local to a project/pipeline and are not globally available to other pipelines.
To use a common set of InSpec controls that can be shared by multiple pipelines, see the next topic Adding shared controls to an InSpec profile.</p>
<p>After the local InSpec profile is created inside the <code>test</code> directory with appropriate <code>inspec.yml</code> file, add another folder called <code>controls</code> to the profile. Now create a <code>&lt;control_file&gt;.rb</code> and start writing InSpec tests.</p>
<p>In this example, we have InSpec control <code>properties.rb</code> checking for the file presence:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># test/&lt;test_suite&gt;/controls/properties.rb</span>
<span class="n">title</span> <span class="s1">&#39;/tmp/properties profile&#39;</span>

<span class="c1"># you add controls here</span>
<span class="n">control</span> <span class="s2">&quot;properties&quot;</span> <span class="k">do</span>

  <span class="n">describe</span> <span class="n">file</span><span class="p">(</span><span class="s1">&#39;/tmp&#39;</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">be_directory</span> <span class="p">}</span>
  <span class="k">end</span>

  <span class="n">describe</span> <span class="n">file</span><span class="p">(</span><span class="s1">&#39;/tmp/properties&#39;</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">it</span> <span class="p">{</span> <span class="n">should</span> <span class="n">exist</span> <span class="p">}</span>
    <span class="n">its</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">)</span> <span class="p">{</span> <span class="n">should</span> <span class="n">cmp</span> <span class="s1">&#39;00755&#39;</span> <span class="p">}</span>

  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>For information on different resources like the <code>file</code> resource mentioned above, in the InSpec documentation, see <a href="https://www.inspec.io/docs/reference/resources">Inspec resources</a>.</p>
<h4 id="adding-shared-controls-to-an-inspec-profile">Adding shared controls to an InSpec profile<a class="headerlink" href="#adding-shared-controls-to-an-inspec-profile" title="Permanent link">&para;</a></h4>
<p>We can add shared profiles under <code>depends</code> section of inspec.yml, so that they can be fetched and used at runtime. For example,</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span> <span class="s">&#39;example-application-name&#39;</span>
<span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Inspec for azure application</span>
<span class="nt">maintainer</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">John Doe</span>
<span class="nt">copyright</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ABC Corp</span>
<span class="nt">copyright_email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">john.doe@abccorp.com</span>
<span class="nt">license</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">All Rights Reserved</span>
<span class="nt">summary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">An InSpec Compliance Profile</span>
<span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1.0</span>
<span class="nt">inspec_version</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;&gt;</span><span class="nv"> </span><span class="s">4.0&#39;</span>
<span class="nt">supports</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">os-family</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redhat</span>
  <span class="p p-Indicator">-</span> <span class="nt">os-family</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">centos</span>
  <span class="p p-Indicator">-</span> <span class="nt">os-family</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bsd</span>
<span class="nt">depends</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">generic-app</span>
    <span class="nt">git</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://github.com/abccorp/inspec-generic-app.git</span>
</code></pre></div>
<p>In our local profile we can use the dependent profile controls. For example,</p>
<div class="highlight"><pre><span></span><code><span class="c1"># test/&lt;test_suite&gt;/controls/shared_controls.rb</span>
<span class="n">include_controls</span> <span class="s1">&#39;generic-app&#39;</span> <span class="k">do</span>
<span class="k">end</span>
</code></pre></div>
<h4 id="passing-inputs-to-inspec">Passing Inputs to InSpec<a class="headerlink" href="#passing-inputs-to-inspec" title="Permanent link">&para;</a></h4>
<p>For more information Chef InSpec Input, see <a href="https://www.inspec.io/docs/reference/inputs/">InSpec Documentation</a></p>
<p>InSpec profiles can optionally have inputs values passed at runtime. We can set them up in a local file <code>test/&lt;test_suite&gt;/inspec_inputs.yml</code>.
An example InSpec Inputs file is below:</p>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="c1"># test/&lt;test_suite&gt;/inspec_inputs.yml</span>
<span class="nt">chefdk_version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.3.23</span>                                <span class="c1"># ChefDK version</span>
<span class="nt">chef_bins</span><span class="p">:</span>                                            <span class="c1"># Installed chef binaries</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">chef</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">chef-client</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">berks</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">inspec</span>
<span class="nt">ca</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<p>The framework will automatically use <code>inspec_inputs.yml</code> as the InSpec Inputs data.</p>
<h2 id="committing-to-git"><a id="git" name="git"></a>Committing to Git<a class="headerlink" href="#committing-to-git" title="Permanent link">&para;</a></h2>
<h3 id="commit-and-push-the-code">Commit and Push the Code<a class="headerlink" href="#commit-and-push-the-code" title="Permanent link">&para;</a></h3>
<p>A Git repository is a virtual storage of your project.</p>
<ul>
<li>If you need to setup authentication with the Git server</li>
<li>Run <code>git config --global user.name &lt;name&gt;</code> to set up your Git username for all commits</li>
<li>Run <code>git config --global user.email &lt;email&gt;</code> to set up your Git email for all commits</li>
<li>Run <code>ssh-keygen -t rsa -C "&lt;email&gt;" -P "" -q -f ~/.ssh/git_rsa</code> to generate a ssh key pair<ul>
<li>It generates two keys:</li>
<li>Private key <code>~/.ssh/git_rsa</code></li>
<li>Public key <code>~/.ssh/git_rsa.pub</code></li>
</ul>
</li>
<li>Register the public key <code>~/.ssh/git_rsa.pub</code> in the Git server</li>
<li>Update the local <code>~/.ssh/config</code> file with this section</li>
</ul>
<div class="highlight"><pre><span></span><code>  Host &lt;the Git host&gt;
    AddKeysToAgent yes
    PreferredAuthentications publickey
    IdentityFile ~/.ssh/git_rsa
</code></pre></div>
<ul>
<li>Create a private Git repository on the Git server</li>
<li>The repository name should match the generated application name (e.g. <code>clientname-myapp-pipeline</code>)</li>
<li>The remote URL will be used in one of the steps below as <code>&lt;remote_repo_url&gt;</code></li>
<li>Open a shell prompt in the newly-generated code directory</li>
<li>Run <code>git init</code> It will create an empty Git repository</li>
<li>Run <code>git add .</code> it will stage all files in the directory</li>
<li>Run <code>git commit -m "Initial Commit"</code> it will commit all staged files</li>
<li>Run <code>git remote add origin &lt;remote_repo_url&gt;</code> it will set up the upstream branch for the local branches</li>
<li>Run <code>git push -u origin develop</code> it will push the local commit to the remote develop branch</li>
</ul>
<h2 id="additional-commands"><a id="additional" name="additional"></a>Additional Commands<a class="headerlink" href="#additional-commands" title="Permanent link">&para;</a></h2>
<p>Following are some additional commands that you can use in the project:</p>
<ul>
<li>To Check your configuration, use <code>rake -T</code></li>
<li>To create an unencrypted AMI, use <code>rake build</code> </li>
<li>To run InSpec test suite and compliance scans, use <code>rake test</code> </li>
<li>To create the encrypted AMI,use <code>rake deliver</code> </li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="./" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Create project
            </div>
          </div>
        </a>
      
      
        <a href="../Building-and-Testing-from-Jenkins/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Build and test from Jenkins
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <!-- <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2021 Martin Donath
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div> -->
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.31ff4e5f.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.216d634c.min.js"></script>
      
    
  </body>
</html>